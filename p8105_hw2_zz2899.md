Homework 2
================
Zoey Zhao
10/5/2021

``` r
library(tidyverse)
library(readxl)
```

## Problem 1

``` r
#Read and clean the Mr. Trash Wheel sheet
trash_data <- 
  #read the excel and let it contain data entries only
  read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = 1, range = "A2:N408")%>%
  #use reasonable variable names
  janitor::clean_names()%>%
  #omit rows that do not include dumpster-specific data
  drop_na(dumpster)%>%
  #round the number of sports balls to the nearest integer
  mutate(sports_balls = round(sports_balls, digits = 0))
```

``` r
#Read and clean precipitation data for 2018
pre2018 <- 
  read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = 5, range = "A2:B14")%>%
  #omit rows without precipitation data
  drop_na(Total)%>%
  #add a variable for year
  mutate(year = 2018)

#Read and clean precipitation data for 2019
pre2019 <- 
  read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", sheet = 4, range = "A2:B14")%>%
  #omit rows without precipitation data
  drop_na(Total)%>%
  #add a variable for year
  mutate(year = 2019)

#combine precipitation datasets
pre_data <- 
  bind_rows(pre2018, pre2019)%>%
  #convert month to a character variable
  mutate(Month = month.name[Month])
```

The data set `trash_data` has 14 observations including the dumpster,
month, year, date, weight\_tons, volume\_cubic\_yards, plastic\_bottles,
polystyrene, cigarette\_butts, glass\_bottles, grocery\_bags,
chip\_bags, sports\_balls, homes\_powered. It has a total of 344 rows
and 14 columns. `month` is a character variable (e.g. “January”,
“February”, “March”), `year` is a numeric variable (e.g. 2017), the
variable `date` looks like yyyy-mm-dd, `weight_tons` is a numeric
variable accurate to two decimal places, `homes_powered` is a numeric
variable accurate to five decimal places, other variables are all
numeric variables of integers. The data set `pre_data` has 3
observations including the Month, Total, year. It has a total of 18 rows
and 3 columns. `month` is a character variable (e.g. “January”,
“February”, “March”), `year` is a numeric variable that only contains
2018 and 2019, and `Total` is a numeric variable accurate to two decimal
places.

For available data, total precipitation in 2018 is 70.33, and the median
number of sports balls in a dumpster in 2019 is 8.5.

## Problem 2

``` r
#Read and clean the data in pols-month.csv
pols_month <- 
  read_csv("./data/pols-month.csv")%>%
  #break up the variable mon into variables year, month, and day
  separate(mon, into = c("year", "month", "day"), sep = "-")%>%
  #change variables year, month, and day to integers
  mutate(year = as.numeric(year))%>%
  mutate(month = as.numeric(month))%>%
  mutate(day = as.numeric(day))%>%
  #replace month number with month name
  mutate(month = month.name[month])%>%
  #create a president variable taking values gop and dem
  mutate(president = case_when(prez_gop == 1 ~ "gop",
                               prez_gop == 0 ~ "dem"))%>%
  #remove prez_dem and prez_gop; and remove the day variable
  select(-prez_gop, -prez_dem, -day)%>%
  #arrange according to year and month
  arrange(year, month)
```

``` r
#clean the data in snp.csv
snp_data <- 
  read_csv("./data/snp.csv")%>%
  #break up the variable date into variables month, day, and year
  separate(date, into = c("month", "day", "year"), sep = "/")%>%
  #change variables month, day, and year to integers
  mutate(month = as.numeric(month))%>%
  mutate(day = as.numeric(day))%>%
  mutate(year = as.numeric(year))%>%
  #replace month number with month name
  mutate(month = month.name[as.numeric(month)])%>%
  #change year to 4 digits
  mutate(year = case_when(year > 20 ~ year + 1900,
                          year < 20 ~ year + 2000))%>%
  #arrange according to year and month
  arrange(year, month)%>%
  #remove the day variable and organize so that year and month are the leading columns
  select(year, everything(), -day)
```
